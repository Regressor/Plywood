Текстовый протокол обмена источника тока/напряжения (AC_DC)

Сделано по первоначальному описанию протокола sam_soft в 
прошивке фанерки v1004. Внесены незначительные дополнения.
--------------------------------------------------------------

   В протоколе команды разделены по секциям. Каждая команда 
пользователя должна заканчиваться символом 0x0d. Ответ 
устройства всегда выровнен пробелами до 16 байт. Последний 
16тый байт - символ 0x0d.

   В случае активной ошибки на устройстве в ответ на любую команду 
выдается код ошибки: 'F' - перегрузка по току, 'T' - перегрев.
Сама команда при этом игнорируется.

   В случае ввода корректной команды устройство отвечает 
символом 'O'. Выход из секции также останавливает ШИМ. Если же
команда некорректна - устройство выдает '?InvalidCommand'.

   Команда l (лог) выдает значения тока, напряжения 
(пока 1 или 0) и состояние кнопки горелки (1 - нажата, 
0 - не нажата).


1. Главная секция. Доступные команды:
---------------------------------------------
c - переход в секцию калибровки
m - переход в секцию сварки mma
d - переход в секцию сварки TIG DC (постоянный ток)
a - переход в секцию сварки TIG AC (переменный ток)
v - выдача версии прошивки


2. Секция калибровки. Доступные команды:
---------------------------------------------
axxx - уставка тока (например - a100,  диапазон 5 - 200 ампер)
Zxxx - устанавливает точку нулевого тока датчика Холла.
p1 - включение обратной полярности сварки (минус на деталь, плюс на держак)
p0 - выключение обратной полярности сварки (плюс на деталь, минус на держак)
z - возвращает точку нулевого тока для датчика Холла.
s - запуск ШИМ
e - останов ШИМ 
l - вывод состояния (ток, напряжение, состояние кнопки)
q - выход в режим выбора режима (главная секция).


3. Секция сварки mma. Доступные команды:
---------------------------------------------
F1 - ручное включение вентилятора (имеет приоритет перед автоматическим)
F0 - остановка вентилятора (включение по перегреву здесь имеет больший приоритет)
p1 - включение обратной полярности сварки (минус на деталь, плюс на держак)
p0 - выключение обратной полярности сварки (плюс на деталь, минус на держак)
axxx - уставка тока (например - a100,  диапазон 5 - 200 ампер)
s - запуск ШИМ
e - останов ШИМ 
l - вывод состояния (ток, напряжение, состояние кнопки)
q - выход в режим выбора режима (главная секция).


4. Секция сварки TIG DC. Доступные команды:
---------------------------------------------
F1 - ручное включение вентилятора (имеет приоритет перед автоматическим)
F0 - остановка вентилятора (включение по перегреву здесь имеет больший приоритет)
g - включить клапан подачи газа
r - выключить клапан подачи газа
axxx - уставка тока (например - a100,  диапазон 5 - 200 ампер)
s - запуск ШИМ
e - останов ШИМ 
l - вывод состояния (ток, напряжение, состояние кнопки)
q - выход в режим выбора режима (главная секция)


5. Секция сварки TIG AC. Доступные команды:
---------------------------------------------
F1 - ручное включение вентилятора (имеет приоритет перед автоматическим)
F0 - остановка вентилятора (включение по перегреву здесь имеет больший приоритет)
g - включить клапан подачи газа
r - выключить клапан подачи газа
axxx - уставка тока сварки (например - a100,  диапазон 5 - 200 ампер)
сxxx - уставка тока очистки (например - с50,  диапазон 10 - 100 ампер)
fxxx - уставка частоты переменного тока (например - f150,  диапазон 50 - 200 герц)
bxx - уставка баланса (например - b30,  диапазон 20 - 80 %)
s - запуск ШИМ (старт в режиме постоянного тока EP, включение переменного тока командой ~)
e - останов ШИМ 
l - вывод состояния (ток, напряжение, состояние кнопки)
= - перейти в режим постоянного тока (включен ток очистки EP)
~ - перейти в режим переменного тока
q - выход в режим выбора режима (главная секция).

